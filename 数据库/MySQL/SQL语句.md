## SQL语句### 0、概述- SQL语句分类：数据查询、数据定义、数据操纵、数据控制、事务控制、系统管理、数据库管理、视图管理、函数管理、存储过程管理、触发器管理、事件管理、权限管理、其他语句- 书写规则:   - SQL语句不区分大小写,但建议书写标准SQL语句: SQL关键字大写、 所有列名和表名小写、常量(如表名)使用''引起来- 参考书籍: 《数据库系统原理》P85-123- SQL语句中文文档: https://mysql.nqsu.com/251.html### 1、数据查询(DQ)语句#### 概念- 最基本的SQL语句: 只对数据进行查询,不会对数据进行修改。- 用于: 从数据库中查询(SELECT)数据,并返回结果。#### 语句  ```mysql  ```### 2、数据定义(DD)语句#### 概念- 最复杂的SQL语句: 涉及数据库对象(模式、表、视图、索引、触发器、存储过程、函数)的操作。- 用于: 对数据库、数据库对象进行创建(CREATE)、修改(ALTER)、删除(DROP)等。#### 语句##### 数据库(DATABASE) | 模式(SCHEMA)- 查看数据库版本:  ```mysql  SELECT VERSION();  ```  - 查看数据库字符集:   ```mysql  SHOW VARIABLES LIKE 'char%';  ```  - 查看数据库排序规则:  ```mysql   SHOW VARIABLES LIKE 'collate%';  ```  - 查看数据库创建时间:   ```mysql  SHOW CREATE DATABASE `db_course_demo`;  `````  - 查看当前的系统时间:   ```mysql  SELECT NOW();  ```  - 查看数据库列表:   ```mysql  SHOW DATABASES;  ```  - 选择数据库: USE  ```mysql  USE `db_course_demo`;  ```  - 查看当前使用的数据库:   ```mysql  SELECT DATABASE();  ```  - 创建数据库: CREATE DATABASE  ```mysql  CREATE DATABASE IF NOT EXISTS `db_course_demo`  DEFAULT CHARSET utf8   DEFAULT COLLATE utf8_general_ci;   ```  翻译:  - 如果不存在名为db_course_demo的数据库, 则创建db_course_demo数据库, 默认字符集为utf8, 排序规则为utf8_general_ci。  - 修改数据库: ALTER DATABASE  ```mysql  ALTER DATABASE `db_course_demo`  DEFAULT CHARSET utf8mb4;  ```  翻译:  - 修改db_course_demo数据库的默认字符集为utf8mb4。- 删除数据库: DROP DATABASE  ```mysql  DROP DATABASE IF EXISTS `db_course_demo`;  ```  注意:   - 数据库删除后, 该数据库下的所有数据也会被删除, 故谨慎操作。  - 如果不加IF EXISTS：当实际数据库不存在名为db_course_demo的数据库, 会返回报错。  - 应该加上IF EXISTS: 当实际数据库存在名为db_course_demo的数据库则删除此数据库, 如果不存在此数据库不会报错。  ##### 表- 查看所有数据表:  ```mysq  SHOW TABLES;  ```- 查看表索引:  ```mysql  SHOW INDEX FROM `table_name`  ```- 查看表sql语句:  ```mysql  SHOW CREATE TABLE `customers`  ```- 查看表结构: DESC | DESCRIBE | SHOW COLUMNS  ```mysql  DESC `customers`  ```  ```mysql    DESCRIBE `customers`  ```  ```mysql  SHOW COLUMNS FROM `customers`  ```- 创建表: CREATE TABLE  ```mysql  CREATE TABLE table_name   (    字段名1 数据类型 [列级完整性约束条件] [默认值],    字段名2 数据类型 [列级完整性约束条件] [默认值],    ...    [,表级完整性约束条件]  )[ENGINE=引擎类型];  ```  ```mysql  CREATE TABLE `customers`  (  cust_id INT NOT NULL AUTO_INCREMENT,  cust_name CHAR(50) NOT NULL,  cust_sex CHAR(1) NOT NULL DEFAULT '0',  cust_address CHAR(50) NULL,  PRIMARY KEY(cust_id)  );  ```  翻译:  - 若没有添加TEMPORARY关键字: 则表示创建的是持久表(会一直存在,对多个用户可见), 否则为临时表(会随着会话结束而消失,    仅对创建的它的用户可见)  - cust_id: 客户ID, 整型, 不为空, 自增主键 (AUTO_INCREMENT: 起始值为1, 步长为1, 无最大值, 唯一不重复, 必须被索引,    可以被覆盖)  - cust_name: 客户姓名, 字符类型, 最大长度为50, 不为空 (NOT NULL: 值不为空, 每列必须设置NULL或NOT NULL,    如果不设置则为NULL)  - cust_sex: 客户性别, 字符类型, 最大长度为1, 默认值为0 (DEFAULT: 如果插入数据时不指定该列的值, 则使用默认值)  - cust_address: 客户地址, 字符类型, 最大长度为50, 可以为空  - cust_id: 主键 (PRIMARY KEY: 必须唯一, 必须为NOT NULL)  - ENGINE: 引擎类型, 默认为InnoDB, 一般不用指定。- 修改表: ALTER TABLE- 复制表: CREATE TABLE ... AS SELECT...- 导入数据: LOAD DATA INFILE- 导出数据: SELECT ... INTO OUTFILE- 优化表: OPTIMIZE TABLE- 锁定表: LOCK TABLES- 解锁表: UNLOCK TABLES- 重命名表: RENAME TABLE- 复制表结构: CREATE TABLE ... LIKE ...- 复制表数据: INSERT INTO ... SELECT ... FROM ...- 统计表数据量: SELECT COUNT(*) FROM ...- 统计表行数: SELECT TABLE_ROWS FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'db_name' AND TABLE_NAME = '  table_name';- 统计表大小: SELECT DATA_LENGTH + INDEX_LENGTH FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'db_name' AND  TABLE_NAME = 'table_name';- 删除表: DROP TABLE  ```mysql  DROP TABLE IF EXISTS `customers`;  ```  注意:  - 可以同时删除多个表(包括临时表), 如: `DROP TABLE `table1`, `table2`, `table3`;`  - 当表被删除后, 该表下的所有数据和分区信息也会被删除, 故谨慎操作。##### 视图##### 索引##### 触发器##### 存储过程##### 函数 ### 3、数据操纵(DM)语句#### 概念- 用于: 对数据库对象进行检索(SELECT)、插入(INSERT)、更新(UPDATE)、删除(DELETE)等。#### 语句  ```mysql  ```### 4、数据控制(DC)语句#### 概念- 以控制用户的访问权限为主。- 用于: 安全管理(包括用户管理、权限管理、安全审计、密码管理等)#### 语句  ```mysql  ```### 5、事务控制(TC)语句#### 概念- 用于: 事务处理(包括事务开始、提交、回滚等)- 事务: 一个或一组SQL语句组成的工作单元, 要么全部执行成功, 要么全部失败。- 事务的特性: 原子性、一致性、隔离性、持久性。- 事务控制语句: 事务开始(START TRANSACTION)、事务提交(COMMIT)、事务回滚(ROLLBACK)。#### 语句  ```mysql  ```### 6、系统管理(SM)语句### 7、数据库管理(DB)语句### 8、视图管理(VW)语句### 9、函数管理(FN)语句### 10、存储过程管理(SP)语句### 11、触发器管理(TR)语句### 12、事件管理(EV)语句### 13、权限管理(PM)语句### 14、其他语句